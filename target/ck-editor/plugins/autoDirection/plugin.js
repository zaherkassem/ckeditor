(function(){var d=RegExp("^\\s*[֑-߿יִ-﷽ﹰ-ﻼ]");CKEDITOR.plugins.add("autoDirection",{init:function(c){c.on("change",function(){var a;(a=c.getSelection())?(a=a.getRanges(),a=0<a.length&&a[0]):a=void 0;var b;if(b=a)b=a,b=b.startContainer.getUniqueId()===b.endContainer.getUniqueId()&&b.startOffset===b.endOffset;b&&(b=a.startContainer.getText())&&(b=d.test(b)?"rtl":"ltr",a=a.startContainer,a.$.nodeType===CKEDITOR.NODE_TEXT&&(a=a.getParent()),a.setAttribute("dir",b))})}})})();